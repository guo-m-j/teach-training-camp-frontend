# teach-training-camp-frontend

### 项目说明
1. 基本支持Github标准Markdown语法：[GitHub Flavored Markdown](https://github.github.com/gfm/#block-quotes)。
2. 设计有顶部工具栏可供Markdown初学者参考使用。该工具栏参考了[掘金社区](https://juejin.cn/)写文章中的设计，目前已实现**各级标题**、**粗体**、**斜体**、**引用**、**链接**、**图片**、**代码**、**代码块**、**无序列表**、**有序列表**、**删除线**、**任务列表**、**表格**选项功能，可一键插入文档中。

### 技术方案
- 使用了最基本的HTML+CSS+JS三件套实现，主要思路是使用正则表达式来识别和匹配，先进行块格式的识别，再进行行内格式的识别。
- JS包括两个文件`ParseMarkdown.js`和`toolbox.js`，前者来负责Markdown格式-HTML格式的转换，后者实现工具栏对文本的相关功能格式添加。
- HTML主要是使用`<textarea>`作为写作区域，在`<div>`呈现渲染的结果。

### 相关亮点
1. 常用的写作语法匹配准确度较高。
2. 工具栏中各功能鼠标悬浮时有变色提示和功能简介出现，便于确认当前功能用途。
3. 工具栏中的各功能会根据当前是否有选定文字给出最合适的匹配，方便后续的写作。

### 遇到的难点
1. 正则表达式匹配准确度：有很多细节的语法会出现匹配不全等问题。可能用AST能更为准确。
2. 工具栏功能罗列：因为是图片，目前是用`img`在`<li>`中来罗列。
3. 光标在`<textarea>`中的定位：目前是使用其`.selectionStart`和`.selectionEnd`属性操作。

### 目前遗留问题
1. 暂未支持**公式、图表、代码块内的高亮**功能。
2. **代码块**中的多个空格会变成一个空格。
3. **表格**省略"|"会出现错误或无法识别。
4. 各种花式**嵌套**可能解析错误。
5. 若使用**工具栏**插入内容，无法支持撤销、恢复功能。
6. 未能实现如图所示的鼠标悬浮展示二级目录的功能![image](https://user-images.githubusercontent.com/60390171/111488454-36c88880-8774-11eb-9620-3b638c31e764.png)。
